@using Lab21.Models;
@{
    ViewBag.Title = "Menu";
}

<h2>Menu</h2>

<table class="table table-bordered">
    <tr>
        <th><a href="~/Items/MenuSorted?column=Name">Name</a></th>
        <th><a href="~/Items/MenuSorted?column=Description">Description</a></th>
        <th><a href="~/Items/MenuSorted?column=Stock">Stock</a></th>
        <th><a href="~/Items/MenuSorted?column=Price">Price</a></th>
        <th>Action</th>
    </tr>

    @foreach (Item i in ViewBag.Items)
    {
        <tr>
            <td>@i.Name</td>
            <td>@i.Description</td>
            <td>@i.Stock</td>
            <td>@i.Price</td>
            <td>
                <a href="~/Items/Add?id=@i.ID"
                   class="btn btn-danger" >Add to Cart</a>
            </td>
        </tr>
    }
</table>

@* Modal works when something is in the session but throws an error when null, removed modal attributes from
    button for now guessing I could fix problem with an if statement
    <div id="Cart" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Cart</h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tr>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Stock</th>
                        <th>Price</th>
                    </tr>

                    @foreach (Item i in (List<Item>)(Session["Cart"]))
                    {
                        <tr>
                            <td>@i.Name</td>
                            <td>@i.Description</td>
                            <td>@i.Stock</td>
                            <td>@i.Price</td>
                        </tr>
                    }
                </table>
                @foreach (Item p in (List<Item>)(Session["Cart"]))
                {
                    ViewBag.Total = p.Price + p.Price;
                    <p>
                        @ViewBag.Total

                    </p>
                }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>*@
